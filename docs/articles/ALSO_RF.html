<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attribute Wise Learning for Scoring Outliers • ALSO</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Attribute Wise Learning for Scoring Outliers">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ALSO</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ALSO_RF.html">Attribute Wise Learning for Scoring Outliers</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="ALSO_RF_files/htmlwidgets-0.9/htmlwidgets.js"></script><script src="ALSO_RF_files/plotly-binding-4.7.1/plotly.js"></script><script src="ALSO_RF_files/typedarray-0.1/typedarray.min.js"></script><script src="ALSO_RF_files/jquery-1.11.3/jquery.min.js"></script><link href="ALSO_RF_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet">
<script src="ALSO_RF_files/crosstalk-1.0.0/js/crosstalk.min.js"></script><link href="ALSO_RF_files/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="ALSO_RF_files/plotlyjs-1.29.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Attribute Wise Learning for Scoring Outliers</h1>
                        <h4 class="author">Danny Morris</h4>
            
            <h4 class="date">July 18, 2018</h4>
      
      
      <div class="hidden name"><code>ALSO_RF.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>Attirubte-wise Learning for Scoring Outliers (ALSO) is an outlier detection technique for standard multidimensional datasets. For each feature in the dataset, a predictive model is constructed in which the reference feature is the target and the remaining features are predictors. When a feature is generally predictable with good accuracy, observations deviating significantly from predicted values may be outliers. Observations with significant deviations across many predictable features may be strong outliers.</p>
<p>This document will illustrate the use of the <strong>ALSO package</strong>. It was created for the sole purpose of making the ALSO technique easily available to R users. The package currently contains a single function, <code><a href="../reference/ALSO_RF.html">ALSO_RF()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ALSO) <span class="co"># devtools::install_github("dannymorris/ALSO")</span>

<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(corrplot)
<span class="kw">library</span>(plotly)

<span class="kw">sessionInfo</span>()</code></pre></div>
<pre><code>## R version 3.4.2 (2017-09-28)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 17134)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] plotly_4.7.1  ggplot2_2.2.1 corrplot_0.84 dplyr_0.7.6   ALSO_0.1.0   
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_0.12.17      plyr_1.8.4        compiler_3.4.2   
##  [4] pillar_1.2.1      bindr_0.1.1       tools_3.4.2      
##  [7] digest_0.6.12     viridisLite_0.3.0 jsonlite_1.5     
## [10] evaluate_0.10.1   memoise_1.1.0     tibble_1.4.2     
## [13] gtable_0.2.0      pkgconfig_2.0.1   rlang_0.2.0      
## [16] rstudioapi_0.7    commonmark_1.5    yaml_2.1.14      
## [19] pkgdown_1.1.0     bindrcpp_0.2.2    httr_1.3.1       
## [22] stringr_1.3.0     roxygen2_6.0.1    xml2_1.2.0       
## [25] knitr_1.19        htmlwidgets_0.9   desc_1.2.0       
## [28] fs_1.2.3          rprojroot_1.2     grid_3.4.2       
## [31] tidyselect_0.2.4  data.table_1.11.4 glue_1.2.0       
## [34] R6_2.2.2          rmarkdown_1.8     tidyr_0.8.1      
## [37] purrr_0.2.5       magrittr_1.5      backports_1.1.1  
## [40] scales_0.5.0      htmltools_0.3.6   MASS_7.3-47      
## [43] assertthat_0.2.0  colorspace_1.3-2  stringi_1.1.7    
## [46] lazyeval_0.2.0    munsell_0.4.3     crayon_1.3.4</code></pre>
</div>
<div id="data" class="section level1">
<h1 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">states &lt;-<span class="st"> </span>state.x77 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>()

states</code></pre></div>
<pre><code>## # A tibble: 50 x 8
##    Population Income Illiteracy `Life Exp` Murder `HS Grad` Frost    Area
##         &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
##  1      3615.  3624.      2.10        69.0  15.1       41.3   20.  50708.
##  2       365.  6315.      1.50        69.3  11.3       66.7  152. 566432.
##  3      2212.  4530.      1.80        70.6   7.80      58.1   15. 113417.
##  4      2110.  3378.      1.90        70.7  10.1       39.9   65.  51945.
##  5     21198.  5114.      1.10        71.7  10.3       62.6   20. 156361.
##  6      2541.  4884.      0.700       72.1   6.80      63.9  166. 103766.
##  7      3100.  5348.      1.10        72.5   3.10      56.0  139.   4862.
##  8       579.  4809.      0.900       70.1   6.20      54.6  103.   1982.
##  9      8277.  4815.      1.30        70.7  10.7       52.6   11.  54090.
## 10      4931.  4091.      2.00        68.5  13.9       40.6   60.  58073.
## # ... with 40 more rows</code></pre>
<p>This dataset is relatively small at 50 rows and 8 variables. Later on we’ll explore a higher dimenional dataset and observe the results.</p>
</div>
<div id="center-and-scale-variables-for-preprocessing" class="section level1">
<h1 class="hasAnchor">
<a href="#center-and-scale-variables-for-preprocessing" class="anchor"></a>Center and scale variables for preprocessing</h1>
<p>It is customary to standardize numeric variables prior to predictive modeling in order to eliminate the effects of differences in original measurement scales. Let’s apply the common z-standardization technique.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">states_scaled &lt;-<span class="st"> </span>states <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate_all</span>(<span class="kw">funs</span>(scale))</code></pre></div>
</div>
<div id="univariate-density-plots" class="section level1">
<h1 class="hasAnchor">
<a href="#univariate-density-plots" class="anchor"></a>Univariate density plots</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>),
    <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(states_scaled)) {
    <span class="kw">pull</span>(states_scaled[, i]) <span class="op">%&gt;%</span>
<span class="st">        </span><span class="kw">density</span>() <span class="op">%&gt;%</span>
<span class="st">        </span><span class="kw">plot</span>(<span class="dt">main =</span> <span class="kw">colnames</span>(states_scaled[, i]),
             <span class="dt">xlab =</span> <span class="st">""</span>)
}</code></pre></div>
<p><img src="ALSO_RF_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Population, Income, and Area show potential outliers in the right-side tails.</p>
</div>
<div id="bivariate-linear-correlations" class="section level1">
<h1 class="hasAnchor">
<a href="#bivariate-linear-correlations" class="anchor"></a>Bivariate linear correlations</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pairs</span>(states_scaled)</code></pre></div>
<p><img src="ALSO_RF_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(states_scaled) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(., <span class="dv">2</span>)</code></pre></div>
<pre><code>##            Population Income Illiteracy Life Exp Murder HS Grad Frost
## Population       1.00   0.21       0.11    -0.07   0.34   -0.10 -0.33
## Income           0.21   1.00      -0.44     0.34  -0.23    0.62  0.23
## Illiteracy       0.11  -0.44       1.00    -0.59   0.70   -0.66 -0.67
## Life Exp        -0.07   0.34      -0.59     1.00  -0.78    0.58  0.26
## Murder           0.34  -0.23       0.70    -0.78   1.00   -0.49 -0.54
## HS Grad         -0.10   0.62      -0.66     0.58  -0.49    1.00  0.37
## Frost           -0.33   0.23      -0.67     0.26  -0.54    0.37  1.00
## Area             0.02   0.36       0.08    -0.11   0.23    0.33  0.06
##             Area
## Population  0.02
## Income      0.36
## Illiteracy  0.08
## Life Exp   -0.11
## Murder      0.23
## HS Grad     0.33
## Frost       0.06
## Area        1.00</code></pre>
<p>The correlation plot and matrix show quite a few moderate to strong correlations in both positive and negative directions.</p>
</div>
<div id="also-with-random-forest-regressor" class="section level1">
<h1 class="hasAnchor">
<a href="#also-with-random-forest-regressor" class="anchor"></a>ALSO with random forest regressor</h1>
<p>A random forest works quite nicely in the context of ALSO for a few reasons:</p>
<ol style="list-style-type: decimal">
<li>can do prediction or classification</li>
<li>robust due to ensembling</li>
<li>can detect nonlinear relationships</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf_also &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ALSO_RF.html">ALSO_RF</a></span>(<span class="dt">data =</span> states_scaled, <span class="dt">cross_validate =</span> <span class="ot">FALSE</span>, 
                   <span class="dt">scores_only =</span> <span class="ot">FALSE</span>)

rf_also_cv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ALSO_RF.html">ALSO_RF</a></span>(<span class="dt">data =</span> states_scaled, <span class="dt">cross_validate =</span> <span class="ot">TRUE</span>, 
                      <span class="dt">scores_only =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Note that cross validation scoring (ensures that each point receives an out of sample score) is significantly more computationally intensive than the in-sample scoring.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">microbenchmark<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/microbenchmark/topics/microbenchmark">microbenchmark</a></span>(
    <span class="kw"><a href="../reference/ALSO_RF.html">ALSO_RF</a></span>(<span class="dt">data =</span> states_scaled, <span class="dt">cross_validate =</span> <span class="ot">FALSE</span>),
    <span class="kw"><a href="../reference/ALSO_RF.html">ALSO_RF</a></span>(<span class="dt">data =</span> states_scaled, <span class="dt">cross_validate =</span> <span class="ot">TRUE</span>)
)

<span class="co"># Unit: milliseconds</span>
<span class="co">#                                                                    expr</span>
<span class="co">#  ALSO_RF(data = states_scaled, cross_validate = FALSE, scores_only = F)</span>
<span class="co">#   ALSO_RF(data = states_scaled, cross_validate = TRUE, scores_only = F)</span>
<span class="co">#        min        lq      mean    median        uq       max neval</span>
<span class="co">#   421.8709  451.9757  482.1679  466.6313  481.8332  828.7061   100</span>
<span class="co">#  2013.3989 2081.6085 2178.1072 2121.9938 2202.0590 2789.7553   100</span></code></pre></div>
<p>Cross validation scoring takes rougly 4.5 times longer.</p>
<div id="outlier-scores" class="section level2">
<h2 class="hasAnchor">
<a href="#outlier-scores" class="anchor"></a>Outlier scores</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(rf_also<span class="op">$</span>scores), <span class="dt">main =</span> <span class="st">"Outlier Scores Density Estimate"</span>,
     <span class="dt">xlab =</span> <span class="st">"ALSO Score"</span>)</code></pre></div>
<p><img src="ALSO_RF_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>Present of outliers reflected in the severe right skewness of the distribution of outlier scores.</p>
</div>
<div id="prediction-errors" class="section level2">
<h2 class="hasAnchor">
<a href="#prediction-errors" class="anchor"></a>Prediction errors</h2>
<p>Squared prediction errors for all <em>n</em> points across all <em>k</em> feature models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf_also<span class="op">$</span>squared_prediction_errors</code></pre></div>
<pre><code>## # A tibble: 50 x 8
##    Population    Income Illiteracy `Life Exp`   Murder  `HS Grad`   Frost
##         &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;
##  1  0.0174    0.00423     0.00502     0.0225  0.209    0.0000320  0.107  
##  2  1.25      1.70        0.126       0.0762  0.139    0.442      0.149  
##  3  0.109     0.0104      0.272       0.0147  0.0426   0.0635     0.399  
##  4  0.113     0.155       0.00189     0.174   0.000648 0.212      0.00301
##  5  3.14      0.140       0.0530      0.107   0.223    0.129      0.429  
##  6  0.0000569 0.0784      0.000277    0.128   0.0715   0.105      0.646  
##  7  0.0267    0.326       0.0251      0.0614  0.0292   0.00000252 0.0646 
##  8  0.220     0.00873     0.0324      0.295   0.00407  0.00236    0.119  
##  9  0.0520    0.0000407   0.0132      0.00112 0.0138   0.0000270  0.566  
## 10  0.00209   0.106       0.0110      0.159   0.0576   0.0712     0.0301 
## # ... with 40 more rows, and 1 more variable: Area &lt;dbl&gt;</code></pre>
<p>The squared prediction error matrix is multiplied by the feature weights to produce the total outlier score.</p>
</div>
<div id="feature-weights" class="section level2">
<h2 class="hasAnchor">
<a href="#feature-weights" class="anchor"></a>Feature weights</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rf_also<span class="op">$</span>adjusted_feature_weights</code></pre></div>
<pre><code>## Population     Income Illiteracy   Life Exp     Murder    HS Grad 
##  0.5578789  0.6587669  0.7285671  0.7067509  0.7514669  0.7397347 
##      Frost       Area 
##  0.6428056  0.5558535</code></pre>
</div>
</div>
<div id="visualization-of-outlier-scores-via-principal-components-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#visualization-of-outlier-scores-via-principal-components-analysis" class="anchor"></a>Visualization of outlier scores via principal components analysis</h1>
<p>Principal components analysis (PCA) is an effective technique for visualizing multidimensional data in fewer dimensions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca_states &lt;-<span class="st"> </span><span class="kw">princomp</span>(states_scaled)

<span class="kw">summary</span>(pca_states)</code></pre></div>
<pre><code>## Importance of components:
##                           Comp.1    Comp.2    Comp.3     Comp.4     Comp.5
## Standard deviation     1.8780090 1.2646268 1.0438881 0.83267888 0.61396161
## Proportion of Variance 0.4498619 0.2039899 0.1389926 0.08843803 0.04808021
## Cumulative Proportion  0.4498619 0.6538519 0.7928445 0.88128252 0.92936273
##                            Comp.6    Comp.7     Comp.8
## Standard deviation     0.54891933 0.3762443 0.33305246
## Proportion of Variance 0.03843271 0.0180561 0.01414846
## Cumulative Proportion  0.96779544 0.9858515 1.00000000</code></pre>
<p>It appears that the top 3 principal components explain nearly 80% of the variation in the original dataset. Let’s inspect a 3-D scatterplot for potential outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca_states<span class="op">$</span>scores <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">outlier_scores =</span> rf_also<span class="op">$</span>scores) <span class="op">%&gt;%</span>
<span class="st">    </span>plotly<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/plotly/topics/plot_ly">plot_ly</a></span>(<span class="dt">x =</span> <span class="op">~</span>Comp.<span class="dv">1</span>, <span class="dt">y =</span> <span class="op">~</span>Comp.<span class="dv">2</span>, <span class="dt">z =</span> <span class="op">~</span>Comp.<span class="dv">3</span>, 
                    <span class="dt">color =</span> <span class="op">~</span>outlier_scores, <span class="dt">type =</span> <span class="st">"scatter3d"</span>)</code></pre></div>
<div id="2a305c51767a" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="2a305c51767a">{"x":{"visdat":{"2a305e9f602f":["function () ","plotlyVisDat"]},"cur_data":"2a305e9f602f","attrs":{"2a305e9f602f":{"x":{},"y":{},"z":{},"color":{},"alpha":1,"sizes":[10,100],"type":"scatter3d"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Comp.1"},"yaxis":{"title":"Comp.2"},"zaxis":{"title":"Comp.3"}},"xaxis":{"domain":[0,1]},"yaxis":{"domain":[0,1]},"hovermode":"closest","showlegend":false,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[-3.7898872827955,1.05313549995308,-0.867428761355901,-2.38177761305822,-0.24138146710949,2.06218135949998,1.89943582687953,0.424783940697749,-1.17212341046926,-3.2941716189742,0.48704128570765,1.42342916224098,-0.118964241753279,0.471201893375159,2.32181208301476,1.90151483080038,-2.12935980873049,-4.24100841510276,0.960193741618665,0.203425990422351,1.19589375920799,-0.181869435676695,2.4336160516486,-4.03208863307374,-0.311254492288258,1.37887296839393,2.18101664879779,1.12708455435136,1.67128924750886,0.649582222106832,-1.3224469167694,-1.05034998383927,-2.69433376807605,2.41766786228597,0.267957083350571,-0.0739132032821323,1.32472855606529,-0.0773817285741413,0.740847306650948,-3.71100631384764,2.01253414161983,-2.21813394081402,-2.41364281521877,2.26283735756339,1.36926611156988,-0.993547961629244,1.34001299291276,-1.50662213393665,1.75754045552156,1.48379101260927],"y":[-0.234778969048657,5.45617511829733,0.745061484977586,-1.28834365696112,3.50952276982273,0.505663870329558,-0.243006451449142,-0.50791949971934,1.13474135922235,0.109956840742786,0.125262159667072,-0.611143187093922,1.28238783030289,-0.245200878780585,-0.53685608869136,-0.0771907204417553,-1.06425233113723,-0.346300787473924,-1.70241921868057,0.388811124570763,-0.218656247557951,0.847116359444859,-0.365335430285017,-1.05124066212055,-0.148305892116226,-0.0335387678026148,-0.547748252877783,1.1329136618736,-1.31239813076056,0.281469859278214,-0.293570405468718,1.8937107187654,-0.517138897975677,-0.781922033345165,0.416853356392223,-0.646583368469463,0.22767510733397,0.269409375473811,-1.46130324595379,-0.909844273362479,-1.31509490930495,-0.651025040837905,2.32744119389325,-0.534331379065555,-1.50938321572925,0.184570341609354,0.511544481078372,-1.60198374675518,-0.635727381590816,0.0422560577811281],"z":[-0.229317425876218,-4.24059040063723,-0.0772686543340554,-0.222792818610364,2.80644077324351,-0.511384160445871,0.662670280414295,-0.218723787922125,1.28184007026525,-0.387068686387076,1.37733515273696,-0.434488061476671,0.803855519811118,0.301483896476224,0.293246732723492,0.177111056224447,-0.251716928664039,-0.228892174307243,-0.721478601171868,0.339225021041741,1.01962969018693,0.554194007782564,0.272388339077683,-0.919582794513843,-0.00660513108456111,-1.33995183033409,-0.0557718732114269,-1.89064699791787,-0.437881704348579,0.973902564386133,-1.36196469377236,2.19783072788959,-0.142734146264219,-0.276975456826474,1.03294280748873,0.0711874618987026,0.49896307100521,1.07009748040435,0.227824039524972,-0.748732017475598,-0.536546594433337,0.0167672561837267,0.286040511069825,-0.219767287446552,-0.445702144392706,0.210828404335305,0.851811855199129,-0.492191330008763,0.425370543859085,-1.35421156136584],"type":"scatter3d","mode":"markers","marker":{"colorbar":{"title":"outlier_scores","ticklen":2},"cmin":0.02185310071396,"cmax":5.88192217038406,"colorscale":[["0","rgba(68,1,84,1)"],["0.00323900839376463","rgba(68,2,85,1)"],["0.00572845228123539","rgba(68,3,86,1)"],["0.0121506950069496","rgba(69,6,88,1)"],["0.0236447830742413","rgba(69,11,91,1)"],["0.0278678053951737","rgba(70,13,93,1)"],["0.0338951813327916","rgba(70,16,95,1)"],["0.0347401535786876","rgba(70,16,95,1)"],["0.0366948158176726","rgba(70,17,96,1)"],["0.0418544895021147","rgba(70,19,97,1)"],["0.0454802786984655","rgba(70,20,98,1)"],["0.0496712444143545","rgba(71,21,100,1)"],["0.0510296884608926","rgba(71,22,100,1)"],["0.0582320971722934","rgba(71,24,103,1)"],["0.0614135644203249","rgba(71,25,104,1)"],["0.0711453977807876","rgba(71,28,107,1)"],["0.0762529815526655","rgba(71,30,108,1)"],["0.0902344866690643","rgba(72,34,113,1)"],["0.0979084130129602","rgba(72,36,116,1)"],["0.106918314069721","rgba(72,39,119,1)"],["0.116350149213212","rgba(72,42,121,1)"],["0.173190629854267","rgba(68,60,129,1)"],["0.234546290986792","rgba(61,77,138,1)"],["0.316652544197644","rgba(52,100,141,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.277301482652623,5.88192217038406,0.645348375574274,0.451168862105962,2.55464822023467,0.703729421702022,0.373862302962069,0.47510147064123,0.418105351686141,0.30854476749613,1.89613498060183,0.0777305460767261,0.295463041598364,0.0507351907198438,0.0850143924480877,0.0404034233099149,0.160301201054288,0.45589957686012,0.64920534029124,0.352184026671844,0.241257238698725,0.229523031835367,0.234702264507154,0.323622667006381,0.215878808266265,0.387368349367147,0.02185310071396,1.42609689966383,0.177076564329681,0.223748587139813,1.06866089487589,1.06259547341428,0.160972970726841,0.855928917137145,0.219539600209264,0.318158532390695,0.372331446136761,0.559129940230283,0.559254101655729,0.283304699192278,0.223306017184654,0.032060104485425,1.447908585332,0.607719517410349,0.318112599341394,0.0533941977140888,0.70339095970873,0.529999031078123,0.14935535445683,0.261016390523841],"line":{"color":"transparent"}},"frame":null},{"x":[-4.24100841510276,2.4336160516486],"y":[-1.70241921868057,5.45617511829733],"type":"scatter3d","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"outlier_scores","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"cmin":0.02185310071396,"cmax":5.88192217038406,"colorscale":[["0","rgba(68,1,84,1)"],["0.00323900839376463","rgba(68,2,85,1)"],["0.00572845228123539","rgba(68,3,86,1)"],["0.0121506950069496","rgba(69,6,88,1)"],["0.0236447830742413","rgba(69,11,91,1)"],["0.0278678053951737","rgba(70,13,93,1)"],["0.0338951813327916","rgba(70,16,95,1)"],["0.0347401535786876","rgba(70,16,95,1)"],["0.0366948158176726","rgba(70,17,96,1)"],["0.0418544895021147","rgba(70,19,97,1)"],["0.0454802786984655","rgba(70,20,98,1)"],["0.0496712444143545","rgba(71,21,100,1)"],["0.0510296884608926","rgba(71,22,100,1)"],["0.0582320971722934","rgba(71,24,103,1)"],["0.0614135644203249","rgba(71,25,104,1)"],["0.0711453977807876","rgba(71,28,107,1)"],["0.0762529815526655","rgba(71,30,108,1)"],["0.0902344866690643","rgba(72,34,113,1)"],["0.0979084130129602","rgba(72,36,116,1)"],["0.106918314069721","rgba(72,39,119,1)"],["0.116350149213212","rgba(72,42,121,1)"],["0.173190629854267","rgba(68,60,129,1)"],["0.234546290986792","rgba(61,77,138,1)"],["0.316652544197644","rgba(52,100,141,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.02185310071396,5.88192217038406]},"z":[-4.24059040063723,2.80644077324351],"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div id="a-comment-on-efficiency" class="section level1">
<h1 class="hasAnchor">
<a href="#a-comment-on-efficiency" class="anchor"></a>A comment on efficiency</h1>
<p>Currently the <code><a href="../reference/ALSO_RF.html">ALSO_RF()</a></code> function is not efficient for medium to large data sets. This is especially true for wider data sets with many features. The function was recently tested on a 30,000 x 30 dataset and required approximately 30 seconds to compute on a Delll i9 with 8GB of RAM without cross validation scoring.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#data">Data</a></li>
      <li><a href="#center-and-scale-variables-for-preprocessing">Center and scale variables for preprocessing</a></li>
      <li><a href="#univariate-density-plots">Univariate density plots</a></li>
      <li><a href="#bivariate-linear-correlations">Bivariate linear correlations</a></li>
      <li>
<a href="#also-with-random-forest-regressor">ALSO with random forest regressor</a><ul class="nav nav-pills nav-stacked">
<li><a href="#outlier-scores">Outlier scores</a></li>
      <li><a href="#prediction-errors">Prediction errors</a></li>
      <li><a href="#feature-weights">Feature weights</a></li>
      </ul>
</li>
      <li><a href="#visualization-of-outlier-scores-via-principal-components-analysis">Visualization of outlier scores via principal components analysis</a></li>
      <li><a href="#a-comment-on-efficiency">A comment on efficiency</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Danny Morris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
